<!-- <p>new-recipe works!</p> -->


<div class="container-fluid">
  
    <br>
    <br>
    <h2 class="text-center">Create new recipe</h2>
    <div class="row mt-5">
      <div class="col-2"></div>
      <div class="col-8">
        <form name="newRecipeForm" #f="ngForm" (ngSubmit)="f.form.valid && sendRecipe()">
  
          <div class="form-group my-3">
            <label for="recipeNameInputField"><b>Enter recipe name:</b></label>
            <input type="text"
                   class="form-control"
                   id="recipeNameInputField"
                   placeholder="Recipe name"
                   [(ngModel)]="model.recipeName"
                   name="recipeNameInputField"
                   #name="ngModel"
                   [ngClass]="{ 'is-invalid': f.submitted && name.invalid }"
                   required/>
            <div *ngIf="f.submitted && name.invalid" class="invalid-input">
              <div *ngIf="name.errors?.['required']">Name is Required</div>
            </div>
          </div>
  
          
          <div class="form-group my-3">
            <label for="recipeCategoryControlSelect"><b>Select category</b></label>
                <select class="form-control" name="recipeCategoryControlSelect" [(ngModel)]="model.recipeCategory" id="recipeCategoryControlSelect">
              <option *ngFor="let opt of opts" [value]="opt.id">{{opt.name}}</option>
            </select>
          </div>
  
          <div>
            <label for="ingredientInputForm"><b>Enter ingredients:</b></label>
            <form class="form-inline" id="ingredientInputForm">
              <input type="text" class="form-control col-6 mr-2" name="ingredientName" placeholder="Enter ingredient here" [(ngModel)]="ingredient.ingredientName" >
              <input type="text" class="form-control col-4 mr-2" name="ingredientQuantity" placeholder="Enter quantity" [(ngModel)]="ingredient.quantity" ><br>
              <button type="submit" class="btn btn-success" (click)="addToIngredientsList()">Add ingredient</button>
            </form>
            <div>
              <br>
              <ul>
                <li *ngFor="let ing of model.ingredientsList">{{ing.ingredientName}} {{ing.quantity}}</li>
              </ul>
            </div>
            
  
            <!-- <div class="container-fluid">
              <ul class="list-group list-group-flush ml-1 mr-5 mt-4" style="max-height: 250px; overflow: scroll; -webkit-overflow-scrolling: touch">
                <li *ngFor="let ing of model.ingredientsList">{{ing.ingredientName}} {{ing.quantity}}</li>
              </ul>
            </div> -->
          </div>
  
          <div class="form-group my-3">
            <label for="instructionsTextArea"><b>Enter instructions:</b></label>
            <textarea class="form-control"
                      id="instructionsTextArea"
                      rows="8"
                      [(ngModel)]="model.instructions"
                      name="instructionsTextArea"
                      #instructions="ngModel"
                      [ngClass]="{ 'is-invalid': f.submitted && instructions.invalid }"
                      required
                      minlength="10"></textarea>
            <div *ngIf="f.submitted && instructions.invalid" class="invalid-input">
              <div *ngIf="instructions.errors?.['required']">Field is required</div>
              <div *ngIf="instructions.errors?.['minlength']">Field is too small (needs more than 10 characters)</div>
            </div>
          </div>
  
          <div class="form-group my-3">
            <label for="suggestionsTextArea"><b>Serving suggestions:</b></label>
            <textarea class="form-control"
                      id="suggestionsTextArea"
                      rows="8" [(ngModel)]="model.suggestions"
                      name="suggestionsTextArea"></textarea>
          </div>
          
          <div class="form-group my-3">
            <label for="uploadImage"><b>Upload recipe image</b></label><br>
              <input class="form-control" type="text" id="uploadImage"  rows="8" [(ngModel)]="model.image" name="uploadImage"/>
          </div>

          <div class="container-fluid my-5">
            <div class="row">
              <div class="col-7"></div>
              <div class="col"></div>
              <div class="col">
                <button type="submit" class="btn btn-info">Add recipe</button>
              </div>
            </div>
          </div>
          
          
        </form>
        
      </div>
      <div class="col-2"></div>
    </div>
  </div>